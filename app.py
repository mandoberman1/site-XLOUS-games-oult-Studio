from flask import Flask, request, render_template
import os
from datetime import datetime
from html import escape
import re

app = Flask(__name__, static_folder='static')
filename = 'comments.txt'
additional_profanity = [
    "пенис", "член", "вагина", "писька", "сиськи", "сосок", "клитор", "мастурбация", "пипи", 
    "сосать", "членосос", "фалос", "пикса", "долбежка", "членяка", "подрочить", "членушка", 
    "пере*ать", "сосатель", "членососатель", "жопа", "жопошник", "п*ца", "петух", "кукольник", 
    "стр**чить", "вульва", "трахать", "пор*а", "дебил", "трахаться", "п*диш"
]

# Исходные матерные слова
bad_words = [
    "ебал","хохол", "хохлов","fuck", "shit", "bitch", "asshole", "bastard", "dick", "pussy", "cock", "cunt", "slut", 
    "whore", "fag", "gay", "nigger", "chink", "spic", "retard", "bastards", "motherfucker", 
    "goddamn", "sonofabitch", "cocksucker", "shithead", "prick", "twat", "wanker", "fucker", 
    "dipshit", "jackass", "douchebag", "cockhead", "asshat", "shitbag", "shitass", "faggot", 
    "fucking", "bitching", "arsehole", "butthole", "crap", "cum", "jizz", "piss", "shitface", "долбаёб","долбаеб","Долбаёб"
    "shitstain", "pussylicker", "bastardize", "mothereffer", "dickhead", "fuckhead", "cuntface", 
    "douche", "skank", "whorebag", "slutty", "shitfaced", "tits", "bazoongas", "boobs", "titty", 
    "beaver", "snatch", "clit", "nipples", "vagina", "penis", "fisting", "blowjob", "handjob", 
    "rimjob", "spank", "fucktard", "cumdumpster", "cumrag", "cocktease", "bitchass", "dickweed", 
    "shitlord", "asswipe", "bitchslap", "crackwhore", "gash", "turd", "fudgepacker", "fags", 
    "blowjobber", "cockblock", "spunk", "ejaculate", "pricktease", "ballbag", "cockhead", "dickbag", 
    "twatface", "cocksucking", "numbnuts", "smegma", "testicle", "buttsex", "bukkake", "jizmop", 
    "sperminator", "testicular", "ballcock", "nutjob", "peewee", "shitstick", "wankstain", "anal", 
    "rim", "squirt", "shag", "humping", "creampie", "cocksucker", "pussyfucker", "dirtytalk", 
    "cumslut", "fuckboy", "dildo", "strapon", "gangbang", "horny", "pervert", "freak", "kinky", 
    "wetdream", "мат", "сука", "блядь", "хуй", "пизда", "ебать", "жопа", "гондон", "урод", "козел", "ялдак",
    "сучка", "тварь", "пидор", "пидорас", "мразь", "гнида", "хуйня", "еблан", "блядский", "охуеть", 
    "пиздец", "ссать", "хуесос", "уродливый", "залупа", "пошел нахуй", "ебать", "заебал", "шлюха", 
    "ебаться", "сукина", "бля", "пидар", "хач", "говно", "осел", "хрень", "срака", "пошел в жопу", 
    "дибил", "тупой", "дурак", "сучара", "пидорасик", "херачить", "пидорасня", "пиздить", "похуй", 
    "долбоеб", "долбоящер", "педик", "мудила", "сосать", "пиздун", "ебать", "попа", "ебаться", 
    "пиздец", "придурок", "голубой", "тварь", "чертов", "чмо", "жопа", "идиот", "урод", "пошел в жопу", 
    "отбитый", "долгопизд", "скотина", "псих", "пиздюк", "соси", "жена-хуи", "тыжпидор", "заморочить", 
    "фак", "срань", "секс", "педрила", "жополиз", "хуячить", "гондон", "сучить", "пиздой", "гнида", 
    "дура", "гнида", "сволочь", "пидорас", "хуйловод", "вздрочить", "ебу", "плоть", "дебил", "шлюшка", 
    "сосать", "гнидить", "дебильный", "срань", "питух", "сучара", "пиздобол", "сукин сын", "козел", 
    "поебень", "барак", "пендаль", "козлина", "попердеть", "ебанина", "досить", "пестить", "залупить", 
    "срам", "порнуха", "говноед", "саркоптоз", "люйка", "жопоед", "чучело", "отсосать", "залупать", 
    "туз", "петушок", "хрюкать", "манда", "дурака", "петушарник", "песюк", "пиздолиз", "ебать", "корыто", 
    "смешок", "пещер", "выродок", "мамка", "пиздовать", "пушистик", "пиздарик", "лох", "тоска", "сосач", 
    "пенис", "член", "вагина", "писька", "сиськи", "сосок", "клитор", "мастурбация", "пипи", "сосать", 
    "членосос", "фалос", "пикса", "долбежка", "членяка", "подрочить", "членушка", "пере*ать", 
    "сосатель", "членососатель", "жопа", "жопошник", "п*ца", "петух", "кукольник", "стр**чить", "вульва", 
    "трахать", "пор*а", "дебил", "трахаться", "п*диш",
    "fuck", "shit", "bitch", "asshole", "bastard", "dick", "pussy", "cock", "cunt", "slut", 
    "whore", "fag", "gay", "nigger", "chink", "spic", "retard", "bastards", "motherfucker", 
    "goddamn", "sonofabitch", "cocksucker", "shithead", "prick", "twat", "wanker", "fucker", 
    # "dipshit", "jackass", "douchebag", "cockhead", "asshat", "shitbag", "shitass", "faggot", "xoxol","xoxli","ebat", "naxui", "naxu", "suka","pidor", "gandon", "matebal", "mat ebal", "матье бал", "ягит лер", "гитлер", "пидор","негр", "негры", "пидорасы", "пидорас"
    "fucking", "bitching", "arsehole", "butthole", "crap", "cum", "jizz", "piss", "shitface", 
    "shitstain", "pussylicker", "bastardize", "mothereffer", "dickhead", "fuckhead", "cuntface", 
    "douche", "skank", "whorebag", "slutty", "shitfaced", "tits", "bazoongas", "boobs", "titty", 
    "beaver", "snatch", "clit", "nipples", "vagina", "penis", "fisting", "blowjob", "handjob", 
    "rimjob", "spank", "fucktard", "cumdumpster", "cumrag", "cocktease", "bitchass", "dickweed", 
    "shitlord", "asswipe", "bitchslap", "crackwhore", "gash", "turd", "fudgepacker", "fags", 
    "blowjobber", "cockblock", "spunk", "ejaculate", "pricktease", "ballbag", "cockhead", "dickbag", 
    "twatface", "cocksucking", "numbnuts", "smegma", "testicle", "buttsex", "bukkake", "jizmop", 
    "sperminator", "testicular", "ballcock", "nutjob", "peewee", "shitstick", "wankstain", "anal", 
    "rim", "squirt", "shag", "humping", "creampie", "cocksucker", "pussyfucker", "dirtytalk", 
    "cumslut", "fuckboy", "dildo", "strapon", "gangbang", "horny", "pervert", "freak", "kinky", 
    "wetdream", "мат", "сука", "блядь", "хуй", "пизда", "ебать", "жопа", "гондон", "урод", "козел", 
    "сучка", "тварь", "пидор", "пидорас", "мразь", "гнида", "хуйня", "еблан", "блядский", "охуеть", 
    "пиздец", "ссать", "хуесос", "уродливый", "залупа", "пошел нахуй", "ебать", "заебал", "шлюха", 
    "ебаться", "сукина", "бля", "пидар", "хач", "говно", "осел", "хрень", "срака", "пошел в жопу", 
    "дибил", "тупой", "дурак", "сучара", "пидорасик", "херачить", "пидорасня", "пиздить", "похуй", 
    "долбоеб", "долбоящер", "педик", "мудила", "сосать", "пиздун", "ебать", "попа", "ебаться", 
    "пиздец", "придурок", "голубой", "тварь", "чертов", "чмо", "жопа", "идиот", "урод", "пошел в жопу", 
    "отбитый", "долгопизд", "скотина", "псих", "пиздюк", "соси", "жена-хуи", "тыжпидор", "заморочить", 
    "фак", "срань", "секс", "педрила", "жополиз", "хуячить", "гондон", "сучить", "пиздой", "гнида", 
    "дура", "гнида", "сволочь", "пидорас", "хуйловод", "вздрочить", "ебу", "плоть", "дебил", "шлюшка", 
    "сосать", "гнидить", "дебильный", "срань", "питух", "сучара", "пиздобол", "сукин сын", "козел", 
    "поебень", "барак", "пендаль", "козлина", "попердеть", "ебанина", "досить", "пестить", "залупить", 
    "срам", "порнуха", "говноед", "саркоптоз", "люйка", "жопоед", "чучело", "отсосать", "залупать", 
    "туз", "петушок", "хрюкать", "манда", "дурака", "петушарник", "песюк", "пиздолиз", "ебать", "корыто", 
    "смешок", "пещер", "выродок", "мамка", "пиздовать", "пушистик", "пиздарик", "лох", "тоска", "сосач", 
    "пенис", "член", "вагина", "писька", "сиськи", "сосок", "клитор", "мастурбация", "пипи", "сосать", 
    "членосос", "фалос", "пикса", "долбежка", "членяка", "подрочить", "членушка", "пере*ать", 
    "сосатель", "членососатель", "жопа", "жопошник", "п*ца", "петух", "кукольник", "стр**чить", "вульва", 
    "трахать", "пор*а", "дебил", "трахаться", "п*диш", "fuck", "shit", "bitch", "asshole", "bastard", 
    "dick", "pussy", "cock", "cunt", "slut", "whore", "fag", "gay", "nigger", "chink", "spic", "retard", 
    "bastards", "motherfucker", "goddamn", "sonofabitch", "cocksucker", "shithead", "prick", "twat", 
    "wanker", "fucker", "dipshit", "jackass", "douchebag", "cockhead", "asshat", "shitbag", "shitass", 
    "faggot", "fucking", "bitching", "arsehole", "butthole", "crap", "cum", "jizz", "piss", "shitface", 
    "shitstain", "pussylicker", "bastardize", "mothereffer", "dickhead", "fuckhead", "cuntface", "douche", 
    "skank", "whorebag", "slutty", "shitfaced", "tits", "bazoongas", "boobs", "titty", "beaver", "snatch", 
    "clit", "nipples", "vagina", "penis", "fisting", "blowjob", "handjob", "rimjob", "spank", "fucktard", 
    "cumdumpster", "cumrag", "cocktease", "bitchass", "dickweed", "shitlord", "asswipe", "bitchslap", 
    "crackwhore", "gash", "turd", "fudgepacker", "fags", "blowjobber", "cockblock", "spunk", "ejaculate", 
    "pricktease", "ballbag", "cockhead", "dickbag", "twatface", "cocksucking", "numbnuts", "smegma", 
    "testicle", "buttsex", "bukkake", "jizmop", "sperminator", "testicular", "ballcock", "nutjob", "peewee", 
    "shitstick", "wankstain", "anal", "rim", "squirt", "shag", "humping", "creampie", "cocksucker", 
    "pussyfucker", "dirtytalk", "cumslut", "fuckboy", "dildo", "strapon", "gangbang", "horny", "pervert", 
    "freak", "kinky", "wetdream",
    "Анус",
    "Аборт",
    "Бздун",
    "Беспезды",
    "Бздюх",
    "Бля",
    "Блудилище",
    "Блядво",
    "Блядеха",
    "Блядина",
    "Блядистка", "тупой", "пидрила", "хуесос", "Гандон","матьебал", "МАТЬЕБАЛ", "Матьебал",
    "Блядище",
    "Блядки",
    "Блядование",
    "Блядовать",
    "Блядовитый",
    "Блядовозка",
    "Блядолиз",
    "Блядоход",
    "Блядский",
    "Блядство",
    "Блядствовать",
    "Блядун",
    "Блядь",
    "Бляди",
    "Бляд",
    "Блядюга",
    "Блядюра",
    "Блядюшка",
    "Блядюшник",
    "Бордель",
    "Вагина",
    "Вафлист",
    "Вжопить",
    "Вжопиться",
    "Вздрачивание",
    "Вздрачивать",
    "Вздрачиваться",
    "Вздрочить",
    "Вздрочиться",
    "Вздрючить",
    "Вздрючивание",
    "Вздрючивать",
    "Взъебка",
    "Взъебщик",
    "Взъебнуть",
    "Вислозадая",
    "Влагалище",
    "Вхуйнуть",
    "Вхуйнуться",
    "Вхуякать",
    "Вхуякаться",
    "Вхуя",
    "Вхуякивать",
    "Вхуякиваться",
    "Вхуякнуть",
    "Вхуякнуться",
    "Вхуяривание",
    "Вхуяривать",
    "Вхуяриваться",
    "Вхуярить",
    "Вхуяриться",
    "Вхуячивание",
    "Вхуячивать",
    "Вхуячиваться",
    "Вхуячить",
    "Вхуячиться",
    "Вхуяшивать",
    "Вхуяшиваться",
    "Вхуяшить",
    "Вхуяшиться",
    "Въебать",
    "Въебаться",
    "Въебашивать",
    "Въебашиваться",
    "Въебашить",
    "Въебашиться",
    "Въебенивать",
    "Въебениваться",
    "Въебенить",
    "Въебениться",
    "Выблядок",
    "Выебанный",
    "Выебат",
    "Выебаться",
    "Высрать",
    "Высраться",
    "Выссать",
    "Выссаться",
    "Высераться",
    "Выссереть",
    "Говнецо",
    "Говнистый",
    "Говниться",
    "Говно",
    "Говновоз",
    "Говнодав",
    "Говноеб",
    "Говноед",
    "Говномес",
    "Говномер",
    "Говносерка",
    "Говнюк",
    "Голожопая",
    "Гомик",
    "Гомосек",
    "Гондон",
    "Гонорея",
    "Давалка",
    "Двужопник",
    "Дерьмо",
    "Дерьмоед",
    "Дерьмовый",
    "Дилдо",
    "Додрочить",
    "Додрочиться",
    "Доебать",
    "Доебаться",
    "Доебенивать",
    "Доебениваться",
    "Доебенить",
    "Доебениться",
    "Долбоеб",
    "Допиздить",
    "Допиздиться",
    "Допиздовать",
    "Допиздоваться",
    "Допиздовывать",
    "Допиздовываться",
    "Допиздохать",
    "Допиздохаться",
    "Допиздохивать",
    "Допиздохиваться",
    "Допиздошить",
    "Допиздошиться",
    "Допиздошивать",
    "Допиздошиваться",
    "Допиздюлить",
    "Допиздюлиться",
    "Допиздюливать",
    "Допиздюливаться",
    "Допиздюрить",
    "Допиздюриться",
    "Допиздюривать",
    "Допиздюриваться",
    "Допиздюхать",
    "Допиздюхаться",
    "Допиздюхивать",
    "Допиздюхиваться",
    "Допиздякать",
    "Допиздякаться",
    "Допиздякивать",
    "Допиздякиваться",
    "Допиздярить",
    "Допиздяриться",
    "Допиздяривать",
    "Допиздяриваться",
    "Допиздяхать",
    "Допиздяхаться",
    "Допиздяхивать",
    "Допиздяхиваться",
    "Допиздячить",
    "Допиздячиться",
    "Допиздячивать",
    "Допиздячиваться",
    "Допиздяшить",
    "Допиздяшиться",
    "Допиздяшивать",
    "Допиздяшиваться",
    "Допиздоболивать",
    "Допиздоболиваться",
    "Допиздоболиться",
    "Допиздюкать",
    "Допиздюкаться",
    "Допиздюкивать",
    "Допиздюкиваться",
    "Допизживать",
    "Дотрахать",
    "Дотрахаться",
    "Дохуйнуть",
    "Дохуякать",
    "Дохуякаться",
    "Дохуякивать",
    "Дохуякиваться",
    "Дохуяривать",
    "Дохуяриваться",
    "Дохуярить",
    "Дохуяриться",
    "Дохуячить",
    "Дохуячиться",
    "Дохуячивать",
    "Дохуячиваться",
    "Дрисня",
    "Дристать",
    "Дристун",
    "Дроченье",
    "Дрочилыцик",
    "Дрочить",
    "Дрочиться",
    "Дрочка",
    "Дрючить",
    "Дрючиться",
    "Дурак",
    "Дуроеб",
    "Выебать",
    "Ебало",
    "Ебальник",
    "Ебальные",
    "Ебальный",
    "Ебанатик",
    "Ебанашка",
    "Ебанутый",
    "Ебануть",
    "Ебануться",
    "Ебать",
    "Ебат",
    "Ебаться",
    "Ебатьс",
    "Ебитесь",
    "Ебло",
    "Еблом",
    "Еблысь",
    "Ебля",
    "Ебнуть",
    "Ебнуться",
    "Ебня",
    "Ебучий",
    "Заебла",
    "Надроченный",
    "Объебешь",
    "Поебать",
    "Жирнозадый",
    "Жопа",
    "Жопой",
    "Жопастая",
    "Жопоеб",
    "Жопенци",
    "Жопища",
    "Жопка",
    "Жопник",
    "Жополиз",
    "Жополизание",
    "Жопоногий",
    "Жопочка",
    "Жопочник",
    "Жопство",
    "Жопу",
    "Забздеть",
    "Заблядовать",
    "Заблядоваться",
    "Задница",
    "Задрачивать",
    "Задрачиваться",
    "Задроченный",
    "Задрочить",
    "Задрочиться",
    "Задрючить",
    "Задрючиться",
    "Заебанный",
    "Заебать",
    "Заебаться",
    "Заебательская",
    "Заебашивать",
    "Заебашиваться",
    "Заебашить",
    "Заебашиться",
    "Заебенивать",
    "Заебениваться",
    "Заебенить",
    "Заебениться",
    "Залупа",
    "Залупу",
    "Залупаться",
    "Залупенить",
    "Залупень",
    "Залупить",
    "Залупляться",
    "Залупистый",
    "Запиздарить",
    "Запизденная",
    "Запизденелый",
    "Запиздить",
    "Запиздиться",
    "Запиздоболивать",
    "Запиздоболиваться",
    "Запиздоболить",
    "Запиздоболиться",
    "Запиздовать",
    "Запиздоваться",
    "Запиздовывать",
    "Запиздовываться",
    "Запиздохать",
    "Запиздошить",
    "Запиздошиться",
    "Запиздошивать",
    "Запиздошиваться",
    "Запиздюкать",
    "Запиздюкаться",
    "Запиздюкивать",
    "Запиздюкиваться",
    "Запиздюлить",
    "Запиздюлиться",
    "Запиздюливать",
    "Запиздюливаться",
    "Запиздюрить",
    "Запиздюриться",
    "Запиздюривать",
    "Запиздюриваться",
    "Запиздюхать",
    "Запиздюхаться",
    "Запиздюхивать",
    "Запиздюхиваться",
    "Запиздючить",
    "Запиздючиться",
    "Запиздючивать",
    "Запиздючиваться",
    "Засранец",
    "Засранка",
    "Засранный",
    "Засратый",
    "Засрать",
    "Засраться",
    "Зассать",
    "Затраханный",
    "Затрахать",
    "Затрахаться",
    "Затрахивать",
    "Затрахиваться",
    "Захуить",
    "Захуйнуть",
    "Захуйнуться",
    "Захуякать",
    "Захуякаться",
    "Захуякивать",
    "Захуякиваться",
    "Захуярить",
    "Захуяриться",
    "Захуяривать",
    "Захуяриваться",
    "Захуячить",
    "Захуячиться",
    "Захуячивать",
    "Захуячиваться",
    "Захуяшить",
    "Захуяшиться",
    "Захуяшивать",
    "Захуяшиваться",
    "Злоебучий",
    "Издрочиться",
    "Измандить",
    "Измандиться",
    "Измандовать",
    "Измандоваться",
    "Измандовывать",
    "Измандовываться",
    "Изъебать",
    "Изъебаться",
    "Изъебашить",
    "Изъебашиться",
    "Изъебашивать",
    "Изъебашиваться",
    "Изъебенить",
    "Изъебениться",
    "Изъебенивать",
    "Изъебениваться",
    "Изъеб",
    "Испиздеться",
    "Испиздить",
    "Испражнение",
    "Испражняться",
    "Исхуякать",
    "Исхуякаться",
    "Исхуякивать",
    "Исхуякиваться",
    "Исхуярить",
    "Исхуяриться",
    "Исхуяривать",
    "Какать",
    "Какашка",
    "Кастрат",
    "Кастрировать",
    "Клитор",
    "Клоака",
    "Кнахт",
    "Кончить",
    "Косоебить",
    "Косоебиться",
    "Кривохуй",
    "Курва",
    "Курвиный",
    "Лахудра",
    "Лох",
    "Лохудра",
    "Лохматка",
    "Манда",
    "Мандавошка",
    "Мандавоха",
    "Мандить",
    "Мандиться",
    "Мандоватая",
    "Мандовать",
    "Мандохать",
    "Мандохаться",
    "Мандохивать",
    "Мандохиваться",
    "Мандошить",
    "Мастурбатор",
    "Минет",
    "Минетить",
    "Минетка",
    "Минетчик",
    "Минетчица",
    "Мозгоеб",
    "Мозгоебатель",
    "Мозгоебать",
    "Мозгоебка",
    "Мокрожопый",
    "Мокропиздая",
    "Моча",
    "Мочиться",
    "Мудак",
    "Мудашвили",
    "Мудило",
    "Мудильщик",
    "Мудистый",
    "Мудить",
    "Мудоеб",
    "Наебанный",
    "Наебка",
    "Наебщик",
    "Наебывать",
    "Наебываться",
    "Наебыш",
    "Набздеть",
    "Наблядоваться",
    "Надроченный",
    "Надрочивать",
    "Надрочить",
    "Надрочиться",
    "Надристать",
    "Наебать",
    "Наебаться",
    "Наебнуть",
    "Наебнуться",
    "Накакать",
    "Накакаться",
    "Накакивать",
    "Напиздить",
    "Напиздошить",
    "Напиздюрить",
    "Напиздюриться",
    "Насрать",
    "Насраться",
    "Нассать",
    "Нассаться",
    "Натрахать",
    "Натрахаться",
    "Натрахивать",
    "Натрахиваться",
    "Нахуякать",
    "Нахуякаться",
    "Нахуякивать",
    "Нахуякиваться",
    "Нахуярить",
    "Нахуяриться",
    "Нахуяриться",
    "Нахуяривать",
    "Нахуяриваться",
    "Нахуячить",
    "Нахуячиться",
    "Нахуячивать",
    "Нахуячиваться",
    "Нахуяшить",
    "Недоебанный",
    "Недоносок",
    "Неебущий",
    "Нищеебство",
    "Оебыват",
    "Обдристанный",
    "Обдристать",
    "Обдрочиться",
    "Обосранец",
    "Обосранная",
    "Обосраный",
    "Обосрать",
    "Обосраться",
    "Обоссанец",
    "Обоссаный",
    "Обоссать",
    "Обоссаться",
    "Обоссаться",
    "Обоссывать",
    "Обоссываться",
    "Обпиздить",
    "Обпиздиться",
    "Обпиздовать",
    "Обпиздоваться",
    "Обпиздовывать",
    "Обпиздовываться",
    "Обпиздохать",
    "Обпиздохаться",
    "Обпиздохивать",
    "Обпиздохиваться",
    "Обпиздошить",
    "Обтрахать",
    "Обтрахаться",
    "Обтрахивать",
    "Обтрахиваться",
    "Обхуярить",
    "Обхуяриться",
    "Обхуячить",
    "Объебать",
    "Объебаться",
    "Объебенить",
    "Объебнуть",
    "Объебон",
    "Одинхуй",
    "Однапизда",
    "Однохуйственно",
    "Оебать",
    "Оебашивать",
    "Оебашить",
    "Оебенивать",
    "Оебенить",
    "Опедерастить",
    "Опизденеть",
    "Опизденный",
    "Опизденно",
    "Опиздеть",
    "Опиздить",
    "Остоебеть",
    "Остоебенить",
    "Остоебенило",
    "Остопиздеть",
    "Остопиздело",
    "Остохуело",
    "Остохуеть",
    "Отдрачивать",
    "Отдрачиваться",
    "Отдрочить",
    "Отдрочиться",
    "Отпиздить",
    "Отпиздошить",
    "Отпиздяшить",
    "Отпиздяшиться",
    "Отпиздяшивание",
    "Отпиздяшивать",
    "Отпиздяшиваться",
    "Отсасывать",
    "Отсасываться",
    "Отсосать",
    "Отсосаться",
    "Оттраханная",
    "Оттрахать",
    "Оттрахаться",
    "Оттрахивать",
    "Оттрахиваться",
    "Отхерачить",
    "Отхуякать",
    "Отхуякаться",
    "Отхуякивать",
    "Отхуякиваться",
    "Отхуярить",
    "Отхуяриться",
    "Отхуяривать",
    "Отхуяриваться",
    "Отхуячить",
    "Отхуячиться",
    "Отхуячивать",
    "Отхуячиваться",
    "Отхуяшить",
    "Отхуяшиться",
    "Отхуяшивать",
    "Отхуяшиваться",
    "Отъебать",
    "Отъебывание",
    "Отъебывать",
    "Отъебываться",
    "Отъебашить",
    "Отъебашивание",
    "Отъебашивать",
    "Отъебашиваться",
    "Отъебенить",
    "Отъебениться",
    "Отъебенивать",
    "Отъебениваться",
    "Отъебнуть",
    "Отьебаться",
    "Отьебашиться",
    "Отьебенивание",
    "Отьебнуться",
    "Охуевать",
    "Охуевающий",
    "Охуевший",
    "Охуение",
    "Охуенно",
    "Охуенные",
    "Охуеть",
    "Охуительно",
    "Охуительный",
    "Охуякать",
    "Охуякаться",
    "Охуякивать",
    "Охуякиваться",
    "Охуякнуть",
    "Охуякнуться",
    "Охуярить",
    "Охуяриться",
    "Охуяривать",
    "Охуяриваться",
    "Охуячить",
    "Охуячиться",
    "Охуячивать",
    "Охуячиваться",
    "Охуяшить",
    "Охуяшиться",
    "Охуяшивать",
    "Охуяшиваться",
    "Очко",
    "Перднуть",
    "Падла",
    "Падлюка",
    "Педераст",
    "Педерастина",
    "Педерастический",
    "Педерастия",
    "Педик",
    "Педрило",
    "Пежить",
    "Пенис",
    "Пердеж",
    "Пердеть",
    "Пердун",
    "Перебздеть",
    "Передрачивать",
    "Передрочить",
    "Передрочиться",
    "Переебаться",
    "Переебашить",
    "Перетрахать",
    "Перетрахаться",
    "Перетрахивать",
    "Перетрахиваться",
    "Перехуйнуть",
    "Перехуйнуться",
    "Перехуякнуть",
    "Перехуякнуться",
    "Перехуякать",
    "Перехуякаться",
    "Перехуякивать",
    "Перехуякиваться",
    "Перехуярить",
    "Перехуяриться",
    "Перехуяривать",
    "Перехуяриваться",
    "Перехуячить",
    "Перехуячиться",
    "Перехуячивать",
    "Пидорас",
    "Пидор",
    "Пизда",
    "Пизданутая",
    "Пиздануть",
    "Пиздануться",
    "Пиздато",
    "Пизденка",
    "Пизденочка",
    "Пиздень",
    "Пизденыш",
    "Пиздеть",
    "Пиздец",
    "Пиздища",
    "Пиздобол",
    "Пиздовать",
    "Пиздолиз",
    "Пиздомол",
    "Пиздосос",
    "Пиздоход",
    "Пиздуй",
    "Пиздун",
    "Пиздюга",
    "Пиздюлей",
    "Пиздюли",
    "Пиздюлина",
    "Пиздюк",
    "Пиздюкать",
    "Пиздюкаться",
    "Пиздюшка",
    "Пиздякать",
    "Пиздятина",
    "Пиздятиной",
    "Пиздячий",
    "Писька",
    "Писюлек",
    "Плоскозадая",
    "Поебочка",
    "Поебывать",
    "Поебываться",
    "Поблудить",
    "Поблядовать",
    "Поблядушка",
    "Подосрать",
    "Подосраться",
    "Подоссать",
    "Подпиздить",
    "Подпиздовать",
    "Подпиздоваться",
    "Подпиздовывать",
    "Подпиздовываться",
    "Подпиздохать",
    "Подпиздохаться",
    "Подпиздохивать",
    "Подпиздохиваться",
    "Подпиздошить",
    "Подпиздошиться",
    "Подпиздошивать",
    "Подпиздякать",
    "Подпиздякаться",
    "Подпиздякивать",
    "Подпиздякиваться",
    "Подпиздярить",
    "Подпиздяриться",
    "Подпиздяривать",
    "Подпиздяриваться",
    "Подпиздяхать",
    "Подпиздяхаться",
    "Подпиздяхивать",
    "Подпиздяхиваться",
    "Подпиздячить",
    "Подпиздячиться",
    "Подпиздячивать",
    "Подпиздячиваться",
    "Подпиздяшить",
    "Подпиздяшиться",
    "Подпиздяшивать",
    "Подпиздяшиваться",
    "Подристывать",
    "Подрочить",
    "Подсирать",
    "Подхуякнуть",
    "Подхуякнуться",
    "Подхуякать",
    "Подхуякаться",
    "Подхуякивать",
    "Подхуякиваться",
    "Подхуярить",
    "Подхуяриться",
    "Подхуяривать",
    "Подхуяриваться",
    "Подхуячивать",
    "Подхуячиться",
    "Подхуячивать",
    "Подхуячиваться",
    "Подхуяшить",
    "Подхуяшиться",
    "Подхуяшивать",
    "Подхуяшиваться",
    "Подъеб",
    "Подъебать",
    "Подъебаться",
    "Подъебашить",
    "Подъебнуть",
    "Подъебка",
    "Подъебывать",
    "Подъябывать",
    "Поебанный",
    "Поебать",
    "Поебаться",
    "Поебень",
    "Поебистика",
    "Поебон",
    "Поебончик",
    "Попердеть",
    "Попердеться",
    "Попердывать",
    "Попизденная",
    "Попиздеть",
    "Попиздистее",
    "Попиздить",
    "Попиздиться",
    "Попиздоватей",
    "Попиздоболивать",
    "Попиздоболиваться",
    "Попиздоболить",
    "Попиздоболиться",
    "Попиздовать",
    "Попиздоваться",
    "Попиздовывать",
    "Попиздовываться",
    "Попиздохать",
    "Попиздохаться",
    "Попиздохивать",
    "Попиздохиваться",
    "Попиздошить",
    "Попиздошиться",
    "Попиздошивать",
    "Попиздошиваться",
    "Попиздюкать",
    "Попиздюкаться",
    "Попиздюкивать",
    "Попиздюкиваться",
    "Попиздюлить",
    "Попиздюлиться",
    "Попиздюливать",
    "Попиздюливаться",
    "Попиздюрить",
    "Попиздюриться",
    "Попиздюривать",
    "Попиздюриваться",
    "Попиздюхать",
    "Попиздюхаться",
    "Попиздюхивать",
    "Попиздюхиваться",
    "Попиздякать",
    "Попиздякаться",
    "Попиздякивать",
    "Попиздякиваться",
    "Попиздярить",
    "Попиздяриться",
    "Попиздяривать",
    "Попиздяриваться",
    "Попиздяхать",
    "Попиздяхаться",
    "Попиздяхивать",
    "Попиздяхиваться",
    "Попиздячить",
    "Попиздячиться",
    "Попиздячивать",
    "Попиздячиваться",
    "Попиздяшить",
    "Попиздяшиться",
    "Попиздяшивать",
    "Попиздяшиваться",
    "Попизживать",
    "Попизживаться",
    "Потаскун",
    "Потаскуха",
    "Потраханная",
    "Потрахать",
    "Потрахаться",
    "Потрахивать",
    "Потрахиваться",
    "Похер",
    "Похуист",
    "Похуякать",
    "Похуякаться",
    "Похуякивать",
    "Похуякиваться",
    "Похуярить",
    "Похуяриться",
    "Похуяривать",
    "Похуяриваться",
    "Похуячить",
    "Похуячиться",
    "Похуячивать",
    "Похуячиваться",
    "Похуяшить",
    "Похуяшиться",
    "Похуяшивать",
    "Похуяшиваться",
    "Поц",
    "Пошмариться",
    "Поябывать",
    "Приебать",
    "Приебаться",
    "Приебывать",
    "Приебываться",
    "Приебашить",
    "Приебашиться",
    "Приебашивать",
    "Приебашиваться",
    "Приебенить",
    "Приебениться",
    "Приебенивать",
    "Приебениваться",
    "Приебехать",
    "Приебехаться",
    "Приебехивать",
    "Приебехиваться",
    "Приебистый",
    "Приебурить",
    "Приебуриться",
    "Приебуривать",
    "Приебуриваться",
    "Прижопить",
    "Прижопывать",
    "Прикинуть",
    "Примандовать",
    "Примандоваться",
    "Примавдовывать",
    "Примандовываться",
    "Примандохать",
    "Примандохаться",
    "Примандохивать",
    "Примандохиваться",
    "Примандошить",
    "Примандошиться",
    "Примандошивать",
    "Примандошиваться",
    "Примандюкать",
    "Примандюкаться",
    "Примандюкивать",
    "Примандюкиваться",
    "Примандехать",
    "Примандехаться",
    "Примандехивать",
    "Примандехиваться",
    "Примандюлить",
    "Примандюлиться",
    "Примандюливать",
    "Примандюливаться",
    "Примандюрить",
    "Примандюриться",
    "Примандюривать",
    "Примандюриваться",
    "Примандякать",
    "Примандякаться",
    "Примандякивать",
    "Примандякиваться",
    "Примандярить",
    "Примандяриться",
    "Примандяривать",
    "Примандяриваться",
    "Примандяхать",
    "Примандяхаться",
    "Примандяхивать",
    "Примандяхиваться",
    "Примандячить",
    "Примандячиться",
    "Примандячивать",
    "Примандячиваться",
    "Примандяшить",
    "Примандяшиться",
    "Примандяшивать",
    "Примандяшиваться",
    "Примудохать",
    "Примудохаться",
    "Примудохивать",
    "Примудохиваться",
    "Примандить",
    "Примандиться",
    "Припизденный",
    "Припиздень",
    "Припиздить",
    "Припиздиться",
    "Припиздывать",
    "Припиздываться",
    "Припиздовать",
    "Припиздоваться",
    "Припиздовывать",
    "Припиздовываться",
    "Припиздохать",
    "Припиздохаться",
    "Припиздохивать",
    "Припиздохиваться",
    "Припиздошить",
    "Припиздошиться",
    "Припиздошивать",
    "Припиздошиваться",
    "Припиздюкать",
    "Припиздюкаться",
    "Припиздюкивать",
    "Припиздюкиваться",
    "Припиздюлить",
    "Припиздюлиться",
    "Припиздюливать",
    "Припиздюливаться",
    "Припиздюрить",
    "Припиздюриться",
    "Припиздюривать",
    "Припиздюхать",
    "Припиздюриваться",
    "Припиздюхаться",
    "Припиздюхивать",
    "Припиздюхиваться",
    "Припиздякать",
    "Припиздякаться",
    "Припиздякивать",
    "Припиздякиваться",
    "Припиздярить",
    "Припиздяриться",
    "Припиздяривать",
    "Припиздяриваться",
    "Припиздяхать",
    "Припиздяхаться",
    "Припиздяхивать",
    "Припиздяхиваться",
    "Припиздячить",
    "Припиздячиться",
    "Припиздячивать",
    "Припиздячиваться",
    "Припиздяшить",
    "Припиздяшиться",
    "Припиздяшивать",
    "Припиздяшиваться",
    "Припиздронить",
    "Припиздрониться",
    "Припиздронивать",
    "Припиздрониваться",
    "Припизживать",
    "Припизживаться",
    "Прихуеть",
    "Прихуякать",
    "Прихуякаться",
    "Прихуякивать",
    "Прихуякиваться",
    "Прихуярить",
    "Прихуяриться",
    "Прихуяривать",
    "Прихуяриваться",
    "Прихуячить",
    "Прихуячиться",
    "Прихуячивать",
    "Прихуячиваться",
    "Прихуяшить",
    "Прихуяшиться",
    "Прихуяшивать",
    "Прихуяшиваться",
    "Притрахаться",
    "Проблядовать",
    "Проблядь",
    "Проблядушка",
    "Продрачивать",
    "Продрачиваться",
    "Продрочить",
    "Продрочиться",
    "Проебать",
    "Проебаться",
    "Проебашить",
    "Проебашиться",
    "Проебашивать",
    "Проебашиваться",
    "Проебенить",
    "Проебениться",
    "Проебашивать",
    "Проебашиваться",
    "Проебывать",
    "Проебываться",
    "Пропиздить",
    "Пропиздиться",
    "Пропиздоболивать",
    "Пропиздоболиваться",
    "Пропиздоболить",
    "Пропиздоболиться",
    "Пропиздовать",
    "Пропиздоваться",
    "Пропиздовывать",
    "Пропиздовываться",
    "Пропиздохать",
    "Пропиздохаться",
    "Пропиздохивать",
    "Пропиздохиваться",
    "Пропиздошить",
    "Пропиздошиться",
    "Пропиздошивать",
    "Пропиздошиваться",
    "Пропиздюкать",
    "Пропиздюкаться",
    "Пропиздюкивать",
    "Пропиздюкиваться",
    "Пропиздюлить",
    "Пропиздюлиться",
    "Пропиздюливать",
    "Пропиздюливаться",
    "Пропиздюрить",
    "Пропиздюриться",
    "Пропиздюривать",
    "Пропиздюриваться",
    "Пропиздюхать",
    "Пропиздюхаться",
    "Пропиздюхивать",
    "Пропиздюхиваться",
    "Пропиздякать",
    "Пропиздякаться",
    "Пропиздякивать",
    "Пропиздякиваться",
    "Пропиздярить",
    "Пропиздяриться",
    "Пропиздяривать",
    "Пропиздяриваться",
    "Пропиздяхать",
    "Пропиздяхивать",
    "Пропиздяхиваться",
    "Пропиздячить",
    "Пропиздячиться",
    "Пропиздячивать",
    "Пропиздячиваться",
    "Пропиздяшить",
    "Пропиздяшиться",
    "Пропиздяшивать",
    "Пропиздяшиваться",
    "Пропизживать",
    "Пропизживаться",
    "Пропиздон",
    "Прохуякать",
    "Прохуякаться",
    "Прохуякивать",
    "Прохуякиваться",
    "Прохуярить",
    "Прохуяриться",
    "Прохуяривать",
    "Прохуяриваться",
    "Прохуячить",
    "Прохуячиться",
    "Прохуячивать",
    "Прохуячиваться",
    "Прохуяшить",
    "Прохуяшиться",
    "Прохуяшивать",
    "Прохуяшиваться",
    "Разблядоваться",
    "Раздрочить",
    "Раздрочиться",
    "Раззалупаться",
    "Разнохуйственно",
    "Разъебать",
    "Разъебаться",
    "Разъебашить",
    "Разъебашиться",
    "Разъебашивать",
    "Разъебашиваться",
    "Разъебенить",
    "Разъебениться",
    "Разъебенивать",
    "Разъебениваться",
    "Распиздить",
    "Распиздиться",
    "Распиздовать",
    "Распиздоваться",
    "Распиздовывать",
    "Распиздовываться",
    "Распиздохать",
    "Распиздохаться",
    "Распиздохивать",
    "Распиздохиваться",
    "Распиздошить",
    "Распиздошиться",
    "Распиздошивать",
    "Распиздошиваться",
    "Распиздон",
    "Распиздяй",
    "Расхуярить",
    "Расхуяриться",
    "Расхуяривать",
    "Расхуяриваться",
    "Расхуячить",
    "Расхуячиться",
    "Расхуячивать",
    "Расхуячиваться",
    "Сдрочить",
    "Сестроеб",
    "Сифилитик",
    "Сифилюга",
    "Скурвиться",
    "Смандить",
    "Смандиться",
    "Смандить",
    "Сперматозавр",
    "Спиздеть",
    "Стерва",
    "Стервоза",
    "Сука",
    "Суки",
    "Сукин",
    "Сукины",
    "Суходрочка",
    "Суходрочкой",
    "Сучара",
    "Сучий",
    "Сучка",
    "Сучье",
    "Схуякать",
    "Схуякаться",
    "Схуякивать",
    "Схуякиваться",
    "Схуярить",
    "Схуяриться",
    "Схуяривать",
    "Схуяриваться",
    "Схуячить",
    "Схуячиться",
    "Схуячивать",
    "Съебывать",
    "Съебываться",
    "Съебать",
    "Съебаться",
    "Съебашить",
    "Съебашиться",
    "Съебашивать",
    "Съебашиваться",
    "Съебенить",
    "Съебениться",
    "Съебенивать",
    "Тварь",
    "Толстожопый",
    "Толстозадая",
    "Торчило",
    "Траханье",
    "Трахать",
    "Трахаться",
    "Трахнуть",
    "Трахнуться",
    "Трепак",
    "Триппер",
    "Уебывать",
    "Уебываться",
    "Уебыш",
    "Ублюдок",
    "Уебать",
    "Уебашить",
    "Уебашивать",
    "Уебенить",
    "Уебище",
    "Усраться",
    "Усрачка",
    "Уссать",
    "Уссаться",
    "Ухуякать",
    "Ухуякаться",
    "Ухуякивать",
    "Ухуякиваться",
    "Ухуярить",
    "Ухуяриться",
    "Ухуяривать",
    "Ухуяриваться",
    "Ухуячить",
    "Ухуячиться",
    "Ухуячивать",
    "Ухуячиваться",
    "Ухуяшить",
    "Ухуяшиться",
    "Ухуяшивать",
    "Ухуяшиваться",
    "Фаллос",
    "Фекал",
    "Фекалий",
    "Фекалии",
    "Хер",
    "Херами",
    "Херня",
    "Херовина",
    "Херов",
    "Хрен",
    "Хреново",
    "Хреновое",
    "Хреновый",
    "Хуевина",
    "Хуев",
    "Хуево",
    "Хуевый",
    "Хуек",
    "Хуечек",
    "Худоебина",
    "Хуебень",
    "Хуев",
    "Хуева",
    "Хуевато",
    "Хуеватый",
    "Хуеглот",
    "Хуегрыз",
    "Хуедрыга",
    "Хуемудрие",
    "Хуемыслие",
    "Хуеньки",
    "Хуеплет",
    "Хуесос",
    "Хуета",
    "Хуетень",
    "Хуец",
    "Хуила",
    "Хуиный",
    "Хуистый",
    "Хуишко",
    "Хуище",
    "Хуи",
    "Хуило",
    "Хуйло",
    "Хуй",
    "Хуйство",
    "Хуйнуть",
    "Хуйня",
    "Хуйню",
    "Хули",
    "Хуюжить",
    "Хуюжиться",
    "Хуюживать",
    "Хуюживаться",
    "Хуюшки",
    "Хуя",
    "Хуяк",
    "Хуякать",
    "Хуями",
    "Хуярить",
    "Хуяриться",
    "Хуястый",
    "Хуячий",
    "Хуячить",
    "Хуячиться",
    "Хуяшить",
    "Целка",
    "Целку",
    "Целочка",
    "Черножопые",
    "Чернозадый",
    "Член",
    "Шалава",
    "Шлюха",
    "Шмара",
    "Шмарить",
    "Шмариться",
    "Хуйло",
    "Отъебись",
    "Отьебись",
    "Спам",
    "Spam",
    "Мудила",
    "Пидарасы"
]

# Объединяем списки
bad_words_combined = bad_words + additional_profanity

# Генерация шаблонов регулярных выражений
profanity_patterns = [r'\b' + re.escape(word) + r'\b' for word in bad_words_combined]

# Проверка на наличие запрещенных слов
def contains_profanity(text):
    # Убираем лишние символы
    text = re.sub(r'[^a-zA-Zа-яА-Я0-9ёЁ\s]+', '', text)
    for pattern in profanity_patterns:
        if re.search(pattern, text, re.IGNORECASE):
            return True
    return False

@app.route('/')
def index():
    context = {'active': 'index'}
    return render_template('index.html', **context)

@app.route('/murder/', methods=['GET', 'POST'])
def murder():
    ip_address = request.headers.get('X-Forwarded-For', request.remote_addr)
    comments = []

    # Чтение комментариев
    if os.path.exists(filename):
        with open(filename, 'r') as f:
            comments = f.readlines()

    # Проверка на дублирование комментариев с одного IP
    user_comment = None
    for line in comments:
        stored_ip, username, comment, created_at = line.strip().split('|')
        if stored_ip == ip_address:
            user_comment = (username, comment, created_at)
            break

    error_message = None

    if request.method == 'POST':
        username = escape(request.form['username'].strip())
        comment = escape(request.form['comment'].strip())

        # Проверка на пустое имя и комментарий
        if not username:
            error_message = 'Имя не может быть пустым.'
        elif contains_profanity(username):
            error_message = 'Имя содержит запрещенные слова.'
        elif not comment:
            error_message = 'Комментарий не может быть пустым.'
        elif contains_profanity(comment):
            error_message = 'Комментарий содержит запрещенные слова.'
        else:
            # Проверка на дублирование имени
            for line in comments:
                stored_ip, stored_username, _, _ = line.strip().split('|')
                if stored_username == username:
                    error_message = 'Имя уже используется. Пожалуйста, выберите другое имя.'
                    break

            # Если комментарий уже был оставлен с этого IP
            if user_comment:
                error_message = 'Вы уже оставили комментарий.'

        # Если ошибок нет, сохраняем комментарий
        if error_message is None:
            new_comment = f"{ip_address}|{username}|{comment}|{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n"
            with open(filename, 'a') as f:
                f.write(new_comment)

            # Логируем комментарий в консоль
            print(f"New comment from {ip_address}: {username} - {comment} at {datetime.now()}")

            # Перечитываем файл с комментариями
            with open(filename, 'r') as f:
                comments = f.readlines()

            # Сбрасываем user_comment, чтобы форма была пустой
            user_comment = None

        # Отображаем страницу с новыми данными
        return render_template('murder.html', comments=comments, user_comment=None, error_message=error_message)

    # Отображаем страницу при GET запросе
    context = {'active': 'murder'}
    return render_template('murder.html', comments=comments, user_comment=None, error_message=error_message, **context)
@app.route('/berta-tap/', methods=['GET', 'POST'])
def berta():
    ip_address = request.headers.get('X-Forwarded-For', request.remote_addr)
    comments = []

    # Чтение комментариев
    if os.path.exists(filename):
        with open(filename, 'r') as f:
            comments = f.readlines()

    # Проверка на дублирование комментариев с одного IP
    user_comment = None
    for line in comments:
        stored_ip, username, comment, created_at = line.strip().split('|')
        if stored_ip == ip_address:
            user_comment = (username, comment, created_at)
            break

    error_message = None

    if request.method == 'POST':
        username = escape(request.form['username'].strip())
        comment = escape(request.form['comment'].strip())

        # Проверка на пустое имя и комментарий
        if not username:
            error_message = 'Имя не может быть пустым.'
        elif contains_profanity(username):
            error_message = 'Имя содержит запрещенные слова.'
        elif not comment:
            error_message = 'Комментарий не может быть пустым.'
        elif contains_profanity(comment):
            error_message = 'Комментарий содержит запрещенные слова.'
        else:
            # Проверка на дублирование имени
            for line in comments:
                stored_ip, stored_username, _, _ = line.strip().split('|')
                if stored_username == username:
                    error_message = 'Имя уже используется. Пожалуйста, выберите другое имя.'
                    break

            # Если комментарий уже был оставлен с этого IP
            if user_comment:
                error_message = 'Вы уже оставили комментарий.'

        # Если ошибок нет, сохраняем комментарий
        if error_message is None:
            new_comment = f"{ip_address}|{username}|{comment}|{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n"
            with open(filename, 'a') as f:
                f.write(new_comment)

            # Логируем комментарий в консоль
            print(f"New comment from {ip_address}: {username} - {comment} at {datetime.now()}")

            # Перечитываем файл с комментариями
            with open(filename, 'r') as f:
                comments = f.readlines()

            # Сбрасываем user_comment, чтобы форма была пустой
            user_comment = None

        # Отображаем страницу с новыми данными
        return render_template('bertatap.html', comments=comments, user_comment=None, error_message=error_message)

    # Отображаем страницу при GET запросе
    context = {'active': 'bertatap'}
    return render_template('bertatap.html', comments=comments, user_comment=None, error_message=error_message, **context)

if __name__ == '__main__':
    app.run(debug=True)
